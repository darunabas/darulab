<style>
  .collage-container {
    display: flex;
    flex-wrap: wrap;
    gap: 10px;
    max-width: 100%;
  }

  .collage-item {
    flex: 1 0 15%; /* Adjust the width as needed, 15% means six images in a row */
    max-width: 100%;
    height: auto;
    border: 1px solid #ccc;
    box-sizing: border-box;
    cursor: pointer;
  }

  .collage-item img {
    width: 100%;
    height: auto;
    display: block;
  }

  /* Styles for the lightbox */
  .lightbox {
    display: none;
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background-color: rgba(0, 0, 0, 0.7);
    justify-content: center;
    align-items: center;
    cursor: zoom-out;
  }
  
  .lightbox.zoomed {
  cursor: zoom-in;
  }

  .lightbox-image {
    max-width: 90%;
    max-height: 90%;
    transition: transform 0.2s ease;
  }
  
  .lightbox.zoomed .lightbox-image {
  transform: scale(2);
  }

  /* Navigation arrows */
  .lightbox-nav {
    position: absolute;
    top: 50%;
    transform: translateY(-50%);
    width: 100%;
    display: flex;
    justify-content: space-between;
    align-items: center;
  }
.album-title {
    font-size: 20px;
    font-weight: bold;
    margin-bottom: 10px;
  }
  .album-container {
    margin-bottom: 30px;
  }
  .album-images {
    display: flex;
    flex-wrap: wrap;
    gap: 10px;
  }
</style>

<div class="collage-container" id="collageContainer">
</div>

<div class="collage-container">
  <div class="album-container">
    <h2 class="album-title">Album 1</h2>
    <div class="album-images">
      <div class="collage-item" onclick="showLightbox('https://lh3.googleusercontent.com/pw/AIL4fc8lhXl8_jg7K9o59FaHJacrpS7BqIP1rewA31_B1mSHZ_ZSQYkRR8B9WmRq_Q21zT02erPHGNCf9_sZjgTjwi0XM9XjRvg8dn6_D03DtogiD3Odek21yZ13brVlK8Jlci2Y4kcLNNKzXn5eeZv5K1euCQ=w2154-h1616-s-no?authuser=1', 1)">
        <img src="https://lh3.googleusercontent.com/pw/AIL4fc8lhXl8_jg7K9o59FaHJacrpS7BqIP1rewA31_B1mSHZ_ZSQYkRR8B9WmRq_Q21zT02erPHGNCf9_sZjgTjwi0XM9XjRvg8dn6_D03DtogiD3Odek21yZ13brVlK8Jlci2Y4kcLNNKzXn5eeZv5K1euCQ=w2154-h1616-s-no?authuser=1" alt="Image 1">
      </div>
      <div class="collage-item" onclick="showLightbox('https://lh3.googleusercontent.com/pw/AIL4fc8lhXl8_jg7K9o59FaHJacrpS7BqIP1rewA31_B1mSHZ_ZSQYkRR8B9WmRq_Q21zT02erPHGNCf9_sZjgTjwi0XM9XjRvg8dn6_D03DtogiD3Odek21yZ13brVlK8Jlci2Y4kcLNNKzXn5eeZv5K1euCQ=w2154-h1616-s-no?authuser=1', 2)">
        <img src="https://lh3.googleusercontent.com/pw/AIL4fc8lhXl8_jg7K9o59FaHJacrpS7BqIP1rewA31_B1mSHZ_ZSQYkRR8B9WmRq_Q21zT02erPHGNCf9_sZjgTjwi0XM9XjRvg8dn6_D03DtogiD3Odek21yZ13brVlK8Jlci2Y4kcLNNKzXn5eeZv5K1euCQ=w2154-h1616-s-no?authuser=1" alt="Image 2">
      </div>
      <!-- Add more images here -->
    </div>
  </div>
  <div class="album-container">
    <h2 class="album-title">Album 2</h2>
    <div class="album-images">
      <div class="collage-item" onclick="showLightbox('https://lh3.googleusercontent.com/pw/AIL4fc8lhXl8_jg7K9o59FaHJacrpS7BqIP1rewA31_B1mSHZ_ZSQYkRR8B9WmRq_Q21zT02erPHGNCf9_sZjgTjwi0XM9XjRvg8dn6_D03DtogiD3Odek21yZ13brVlK8Jlci2Y4kcLNNKzXn5eeZv5K1euCQ=w2154-h1616-s-no?authuser=1', 1)">
        <img src="https://lh3.googleusercontent.com/pw/AIL4fc8lhXl8_jg7K9o59FaHJacrpS7BqIP1rewA31_B1mSHZ_ZSQYkRR8B9WmRq_Q21zT02erPHGNCf9_sZjgTjwi0XM9XjRvg8dn6_D03DtogiD3Odek21yZ13brVlK8Jlci2Y4kcLNNKzXn5eeZv5K1euCQ=w2154-h1616-s-no?authuser=1" alt="Image 3">
      </div>
      <div class="collage-item" onclick="showLightbox('https://lh3.googleusercontent.com/pw/AIL4fc95q0C6gEDw2_4Rbyp1RZTB7H9s-vTObccv-HZ0P0FYRskLCf-Uwz8-s5p6Po093l77qUPOIEUvRovCG0UbRuUmUUpPiwGedUfwHdberkeu8PfShtUfVv1YI-h2WCs5_hMrP22_Sv5IB7Q0fLOrweQcHQ=w2154-h1616-s-no?authuser=1', 2)">
        <img src="https://lh3.googleusercontent.com/pw/AIL4fc95q0C6gEDw2_4Rbyp1RZTB7H9s-vTObccv-HZ0P0FYRskLCf-Uwz8-s5p6Po093l77qUPOIEUvRovCG0UbRuUmUUpPiwGedUfwHdberkeu8PfShtUfVv1YI-h2WCs5_hMrP22_Sv5IB7Q0fLOrweQcHQ=w2154-h1616-s-no?authuser=1" alt="Image 4">
      </div>
      <!-- Add more images here -->
    </div>
  </div>
  <!-- Add more albums here -->
</div>

<!-- Lightbox markup -->
<div class="lightbox" onclick="hideLightbox()">
  <div class="lightbox-nav">
    <span onclick="changeImage(-1)">&#10094;</span>
    <span onclick="changeImage(1)">&#10095;</span>
  </div>
  <div class="lightbox-image-container">
    <img class="lightbox-image" src="" alt="Full-size image" onclick="toggleZoom()">
  </div>
</div>

<!-- JavaScript for lightbox functionality -->
<script>
function generateGallery() {

  // Generate collage items for each album
  const collageContainer = document.getElementById('collageContainer');
  for (const albumName in albums) {
    const albumData = albums[albumName];

    const albumContainer = document.createElement('div');
    albumContainer.classList.add('album-container');

    const albumTitle = document.createElement('h2');
    albumTitle.classList.add('album-title');
    albumTitle.textContent = albumName;
    albumContainer.appendChild(albumTitle);

    const albumImages = document.createElement('div');
    albumImages.classList.add('album-images');

    albumData.forEach((imageData) => {
      const collageItem = document.createElement('div');
      collageItem.classList.add('collage-item');

      // Create thumbnail images and add click event listener
      const thumbnailImage = document.createElement('img');
      thumbnailImage.src = imageData.imageSrc;
      thumbnailImage.alt = `Thumbnail ${imageData.index}`;
      thumbnailImage.classList.add('thumbnail');
      thumbnailImage.setAttribute('onclick', `showLightbox('${imageData.imageSrc}', ${imageData.index})`);
      collageItem.appendChild(thumbnailImage);

      // Add full-size images to the lightbox
      const lightboxImage = document.createElement('img');
      lightboxImage.src = imageData.imageSrc;
      lightboxImage.alt = `Image ${imageData.index}`;
      lightboxImage.style.display = 'none';
      collageItem.appendChild(lightboxImage);

      albumImages.appendChild(collageItem);
    });

    albumContainer.appendChild(albumImages);
    collageContainer.appendChild(albumContainer);
  }
}

let currentImageIndex = 0;
let images = [];

function showLightbox(imageSrc, index) {
  const lightbox = document.querySelector('.lightbox');
  const lightboxImage = lightbox.querySelector('.lightbox-image');

  images = document.querySelectorAll('.collage-item img');
  currentImageIndex = index - 1; // Convert to 0-based index

  lightboxImage.src = imageSrc;
  lightbox.style.display = 'flex';
}

function hideLightbox() {
  const lightbox = document.querySelector('.lightbox');
  lightbox.style.display = 'none';
}

function changeImage(offset) {
  currentImageIndex += offset;

  if (currentImageIndex < 0) {
    currentImageIndex = images.length - 1;
  } else if (currentImageIndex >= images.length) {
    currentImageIndex = 0;
  }

  const lightboxImage = document.querySelector('.lightbox-image');
  lightboxImage.src = images[currentImageIndex].src;
}

function toggleZoom(event) {
  const lightbox = document.querySelector('.lightbox');
  lightbox.classList.toggle('zoomed');

  // Prevent event propagation when clicking on the image to zoom
  if (event) {
    event.stopPropagation();
  }
}


// Event listener for arrow keys
document.onkeydown = function (event) {
  const lightbox = document.querySelector('.lightbox');
  if (lightbox.style.display === 'flex') {
    switch (event.key) {
      case 'ArrowLeft':
        changeImage(-1);
        break;
      case 'ArrowRight':
        changeImage(1);
        break;
      case 'Escape':
        hideLightbox();
        break;
    }
  }
};
generateGallery();
</script>