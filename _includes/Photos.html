<h3>Photos</h3>
<style>
  .collage-container {
    display: flex;
    flex-wrap: wrap;
    gap: 10px;
    max-width: 100%;
  }

  .collage-item {
    flex: 1 0 15%; /* Adjust the width as needed, 15% means six images in a row */
    max-width: 100%;
    height: auto;
    border: 1px solid #ccc;
    box-sizing: border-box;
    cursor: pointer;
  }

  .collage-item img {
    width: 100%;
    height: auto;
    display: block;
  }

  /* Styles for the lightbox */
  .lightbox {
    display: none;
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background-color: rgba(0, 0, 0, 0.7);
    justify-content: center;
    align-items: center;
  }

  .lightbox-image {
    max-width: 90%;
    max-height: 90%;
  }

  /* Navigation arrows */
  .lightbox-nav {
    position: absolute;
    top: 50%;
    transform: translateY(-50%);
    width: 100%;
    display: flex;
    justify-content: space-between;
    align-items: center;
  }
.album-title {
    font-size: 20px;
    font-weight: bold;
    margin-bottom: 10px;
  }
  .album-container {
    margin-bottom: 30px;
  }
  .album-images {
    display: flex;
    flex-wrap: wrap;
    gap: 10px;
  }
</style>

<div class="collage-container">
  {% for album in site.data.images %}
    <div class="album-container">
      <h2 class="album-title">{{ album.album }}</h2>
      <div class="album-images">
        {% for image in album.images %}
          <div class="collage-item" onclick="showLightbox('{{ image.url }}', {{ forloop.index }})">
            <img src="{{ image.url }}" alt="{{ image.alt }}">
          </div>
        {% endfor %}
      </div>
    </div>
  {% endfor %}
</div>



<!-- Lightbox markup -->
<div class="lightbox" onclick="hideLightbox()">
  <div class="lightbox-nav">
    <span onclick="changeImage(-1)">&#10094;</span>
    <span onclick="changeImage(1)">&#10095;</span>
  </div>
  <img class="lightbox-image" src="" alt="Full-size image">
</div>

<!-- JavaScript for lightbox functionality -->
<script>
  let currentImageIndex = 0;
  let images = [];

  function showLightbox(imageSrc, index) {
    const lightbox = document.querySelector('.lightbox');
    const lightboxImage = lightbox.querySelector('.lightbox-image');

    images = document.querySelectorAll('.collage-item img');
    currentImageIndex = index - 1; // Convert to 0-based index

    lightboxImage.src = imageSrc;
    lightbox.style.display = 'flex';
  }

  function hideLightbox() {
    const lightbox = document.querySelector('.lightbox');
    lightbox.style.display = 'none';
  }

  function changeImage(offset) {
    currentImageIndex += offset;

    if (currentImageIndex < 0) {
      currentImageIndex = images.length - 1;
    } else if (currentImageIndex >= images.length) {
      currentImageIndex = 0;
    }

    const lightboxImage = document.querySelector('.lightbox-image');
    lightboxImage.src = images[currentImageIndex].src;
  }

  // Event listener for arrow keys
  document.onkeydown = function (event) {
    const lightbox = document.querySelector('.lightbox');
    if (lightbox.style.display === 'flex') {
      switch (event.key) {
        case 'ArrowLeft':
          changeImage(-1);
          break;
        case 'ArrowRight':
          changeImage(1);
          break;
        case 'Escape':
          hideLightbox();
          break;
      }
    }
  };
</script>

